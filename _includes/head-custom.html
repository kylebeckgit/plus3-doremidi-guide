<style>
  /* Theme Variables - Monochrome Pixel Aesthetic */
  :root {
    --bg-color: #111111;
    --text-color: #eeeeee;
    --link-color: #ffffff;
    --header-bg: #222222;
    --header-border: #444444;
    --code-bg: #222222;
    --border-color: #333333;
    --font-heading: "Courier New", Courier, monospace;
    --font-body: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  /* Hide DEFAULT Theme Sidebar/Header (Bio, Name, Github Link) */
  header,
  #header-wrapper,
  footer,
  .site-footer {
    display: none !important;
  }

  /* Dark Mode is Default/Only Mode now */
  [data-theme="dark"] {
    --bg-color: #111111;
    --text-color: #eeeeee;
    --link-color: #ffffff;
    --header-bg: #222222;
    --header-border: #444444;
  }

  body {
    background-color: var(--bg-color) !important;
    color: var(--text-color) !important;
    font-family: var(--font-body) !important;
    line-height: 1.75;
    font-size: 1.05rem;
  }

  /* Typography Enhancements - Retro/Pixel Style */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--text-color) !important;
    font-family: var(--font-heading) !important;
    font-weight: 700;
    margin-top: 2rem;
    margin-bottom: 1rem;
    line-height: 1.3;
    text-transform: uppercase;
    letter-spacing: -0.025em;
  }

  h1 {
    font-size: 2.25rem;
    border-bottom: 1px solid var(--border-color);
    padding-bottom: 0.5rem;
  }

  h2 {
    font-size: 1.75rem;
    border-bottom: none !important;
  }

  h3 {
    font-size: 1.5rem;
  }

  strong,
  b {
    color: var(--link-color) !important;
  }

  a {
    text-decoration: underline;
    text-decoration-thickness: 1px;
  }

  /* Logo Image Style */
  .sidebar-logo {
    display: block;
    width: 64px;
    height: 64px;
    margin: 0 auto 2rem auto;
    image-rendering: pixelated;
    /* Critical for pixel art */
    border-radius: 0;
  }

  /* ... Sidebar styles ... */

  /* Update sidebar title to be logo */
  .sidebar-title-link {
    display: none;
  }

  .theme-switch-wrapper {
    position: fixed;
    bottom: 20px;
    right: 25px;
    z-index: 1000;
    display: flex;
    align-items: center;
    opacity: 0.5;
    transition: opacity 0.3s;
  }

  .theme-switch-wrapper:hover {
    opacity: 1;
  }

  .theme-switch {
    display: inline-block;
    height: 24px;
    position: relative;
    width: 44px;
  }

  .theme-switch input {
    display: none;
  }

  .slider {
    background-color: #333;
    /* Darker slider track */
    bottom: 0;
    cursor: pointer;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transition: .4s;
    border-radius: 24px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }

  .slider:before {
    background-color: #fff;
    bottom: 3px;
    content: "";
    height: 18px;
    left: 3px;
    position: absolute;
    transition: .4s;
    width: 18px;
    border-radius: 50%;
  }

  input:checked+.slider {
    background-color: #ffffff;
    /* White active */
  }

  input:checked+.slider:before {
    transform: translateX(20px);
    background-color: #000;
    /* Black knob */
  }

  /* Favicon */
</style>
<link rel="icon" href="/assets/images/favicon.png" type="image/png">
<style>
  /* Hide DEFAULT Theme Sidebar/Header (Bio, Name, Github Link) */
  header,
  #header-wrapper,
  footer,
  .site-footer {
    display: none !important;
  }

  [data-theme="dark"] {
    --bg-color: #1e1e1e;
    --text-color: #f4ecd8;
    --link-color: #10b981;
    --header-bg: linear-gradient(to right, #064e3b, #065f46);
    --header-border: #022c22;
  }

  body {
    background-color: var(--bg-color) !important;
    color: var(--text-color) !important;
    transition: background-color 0.3s, color 0.3s;
  }

  /* Force headers and links to use variables */
  /* Force headers and links to use variables */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--link-color) !important;
    /* Green Layout */
  }

  strong,
  b {
    color: var(--text-color) !important;
  }

  a {
    color: var(--link-color) !important;
  }

  /* Minimal Theme Switch */
  .theme-switch-wrapper {
    position: fixed;
    bottom: 20px;
    /* ... skipping unchanged ... */

    /* Push main content - Using Body Padding for true centering in remaining space */
    body {
      padding-left: 250px;
      transition: padding-left 0.3s ease;
    }

    body.sidebar-collapsed {
      padding-left: 60px;
    }

    .wrapper {
      margin: 0 auto !important;
      /* Center in the padded body */
      width: 100% !important;
      max-width: 1100px;
      padding: 2rem 4rem;
      box-sizing: border-box;
    }

    body.sidebar-collapsed .wrapper {
      margin: 0 auto !important;
      max-width: 1300px;
    }

    /* Force section width */
    section {
      width: 100% !important;
      max-width: 900px !important;
    }

    right: 25px;
    z-index: 1000;
    display: flex;
    align-items: center;
    opacity: 0.8;
    transition: opacity 0.3s;
  }

  .theme-switch-wrapper:hover {
    opacity: 1;
  }

  .theme-switch {
    display: inline-block;
    height: 24px;
    position: relative;
    width: 44px;
  }

  .theme-switch input {
    display: none;
  }

  .slider {
    background-color: #ccc;
    bottom: 0;
    cursor: pointer;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;
    transition: .4s;
    border-radius: 24px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  }

  .slider:before {
    background-color: #fff;
    bottom: 3px;
    content: "";
    height: 18px;
    left: 3px;
    position: absolute;
    transition: .4s;
    width: 18px;
    border-radius: 50%;
  }

  input:checked+.slider {
    background-color: #10b981;
  }

  input:checked+.slider:before {
    transform: translateX(20px);
  }


  /* Latest Activity Feed */
  .activity-feed {
    margin-top: 1.5rem;
    border-left: 2px solid rgba(16, 185, 129, 0.2);
    /* Emerald tint */
    padding-left: 1.5rem;
    margin-left: 0.5rem;
  }

  .activity-item {
    position: relative;
    margin-bottom: 2rem;
  }

  .activity-item::before {
    content: "";
    position: absolute;
    left: -1.9rem;
    /* Align with border line */
    top: 5px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--link-color);
    border: 2px solid var(--bg-color);
  }

  .activity-meta {
    font-size: 0.85rem;
    color: var(--text-color);
    opacity: 0.7;
    margin-bottom: 0.25rem;
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .activity-type {
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.7rem;
    padding: 2px 6px;
    border-radius: 4px;
    background-color: rgba(0, 0, 0, 0.05);
  }

  [data-theme="dark"] .activity-type {
    background-color: rgba(255, 255, 255, 0.1);
  }

  .activity-title {
    margin: 0;
    font-size: 1.1rem;
    font-weight: 600;
  }

  .activity-title a {
    text-decoration: none;
  }

  /* Sidebar Navigation V2 */
  #sidebar {
    position: fixed;
    top: 0;
    left: 0;
    height: 100vh;
    width: 210px;
    /* Reduced from 250px */
    background-color: var(--bg-color);
    border-right: 1px solid rgba(0, 0, 0, 0.1);
    padding: 2rem 1.5rem;
    display: flex;
    flex-direction: column;
    z-index: 1000;
    transition: width 0.3s ease;
    overflow: hidden;
    /* Hide content when collapsed */
  }

  [data-theme="dark"] #sidebar {
    border-right: 1px solid rgba(255, 255, 255, 0.1);
  }

  /* Collapsed State */
  #sidebar.collapsed {
    width: 60px;
    padding: 2rem 0.5rem;
    align-items: center;
    /* Center icons */
  }

  #sidebar.collapsed .sidebar-title-link,
  /* Fixed Selector */
  #sidebar.collapsed .nav-section-title,
  #sidebar.collapsed .nav-link-text,
  #sidebar.collapsed .contact-email {
    display: none !important;
    /* Force hide */
    opacity: 0;
  }

  #sidebar.collapsed .nav-section {
    text-align: center;
    width: 100%;
  }

  #sidebar.collapsed .toggle-btn-icon {
    transform: rotate(180deg);
  }

  /* Push main content handled by Body Padding above */
  /* .wrapper styling consolidated above */

  /* Mobile Responsive */
  @media (max-width: 1024px) {
    body {
      padding-left: 0;
    }

    #sidebar {
      position: relative;

      width: 100%;
      height: auto;
      border-right: none;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    }

    .wrapper {
      margin-left: 0 !important;
      padding: 1rem;
    }

    #sidebar.collapsed {
      width: 100%;
    }

    /* Disable collapse on mobile for now */
  }

  .sidebar-title-link {
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 2rem;
    color: var(--link-color) !important;
    /* Green */
    text-decoration: none;
    display: block;
    white-space: nowrap;
  }

  .toggle-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    color: var(--text-color);
    cursor: pointer;
    opacity: 0.5;
    padding: 5px;
  }

  .toggle-btn:hover {
    opacity: 1;
  }

  .nav-link {
    display: flex;
    align-items: center;
    padding: 0.5rem 0;
    color: var(--text-color) !important;
    text-decoration: none;
    font-size: 1rem;
    opacity: 0.8;
    transition: opacity 0.2s;
    white-space: nowrap;
    gap: 10px;
  }

  .nav-link:hover {
    opacity: 1;
    color: var(--link-color) !important;
  }

  .nav-section {
    margin-bottom: 2rem;
  }

  .nav-section-title {
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    color: var(--text-color);
    opacity: 0.5;
    margin-bottom: 0.5rem;
    font-weight: 600;
    white-space: nowrap;
  }

  .bottom-section {
    margin-top: auto;
    border-top: 1px solid var(--border-color);
    padding-top: 1rem;
    padding-bottom: 3rem;
    width: 100%;
  }

  .contact-email {
    font-size: 0.85rem;
    /* Slight bump */
    color: var(--text-color);
    opacity: 1;
    /* Fully visible */
    font-weight: 600;
    /* Bold */
    text-decoration: none;
    display: block;
    margin-top: 1.5rem;
    /* Add specific spacing as it's now inline-ish */
    padding-top: 0.5rem;
    border-top: 1px dotted var(--border-color);
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Inject Sidebar
    if (!document.getElementById('sidebar')) {
      const sidebar = document.createElement('nav');
      sidebar.id = 'sidebar';
      sidebar.innerHTML = `

      
        <a href="/" class="sidebar-logo-link">
            <img src="/assets/images/favicon.png" alt="Home" class="sidebar-logo">
        </a>
        
        <div class="nav-section">
          <div class="nav-section-title">Navigation</div>
          <a href="/" class="nav-link">
            <span class="nav-icon">üè†</span>
            <span class="nav-link-text">Home</span>
          </a>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Library</div>
          <a href="/plus3-doremidi-guide/" class="nav-link">
            <span class="nav-icon">üìñ</span>
            <span class="nav-link-text">Guides</span>
          </a>
          <a href="/tonverk-presets/" class="nav-link">
            <span class="nav-icon">üéõÔ∏è</span>
            <span class="nav-link-text">Presets</span>
          </a>
          

        </div>

        <div class="nav-section">
          <div class="nav-section-title">Tools</div>
           <a href="/z3-webgpu.html" class="nav-link">
            <span class="nav-icon">üß†</span>
            <span class="nav-link-text">Modal Generator (Zebra 3)</span>
          </a>
          
          <a href="/contact/" class="nav-link">
            <span class="nav-icon">üì®</span>
            <span class="nav-link-text">Get in Touch</span>
          </a>
        </div>

        <div class="bottom-section">
           <a href="https://buymeacoffee.com/kylebeck" target="_blank" class="bmc-button" style="display: block; width: 100%; margin-top: 10px;">
             <img src="https://cdn.buymeacoffee.com/buttons/v2/default-yellow.png" alt="Buy Me A Coffee" style="width: 100% !important; height: auto !important; max-width: 100%;" >
           </a>
        </div>
      `;
      document.body.prepend(sidebar);


    }

    // Theme Toggle Logic (Existing)
    if (document.getElementById('theme-toggle-checkbox')) return;

    // Create Switch HTML
    const toggleDiv = document.createElement('div');
    toggleDiv.className = 'theme-switch-wrapper';
    toggleDiv.innerHTML = `
      <label class="theme-switch" for="theme-toggle-checkbox">
        <input type="checkbox" id="theme-toggle-checkbox" />
        <div class="slider"></div>
      </label>
    `;

    document.body.appendChild(toggleDiv);

    const toggleCheckbox = document.getElementById('theme-toggle-checkbox');
    const root = document.documentElement;
    const savedTheme = localStorage.getItem('theme');

    if (savedTheme === 'dark') {
      root.setAttribute('data-theme', 'dark');
      toggleCheckbox.checked = true;
    } else if (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      // system default
    }

    toggleCheckbox.addEventListener('change', function (e) {
      if (e.target.checked) {
        root.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      } else {
        root.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
      }
    });

    // Remove "Hosted on GitHub Pages ‚Äî Theme by orderedlist" text
    const links = document.querySelectorAll('a');
    for (const link of links) {
      if (link.textContent.includes('orderedlist')) {
        link.style.display = 'none'; // Hide link just in case remove fails or for safer handling
        let node = link.previousSibling;
        // Walk back looking for the text
        while (node) {
          if (node.nodeType === 3 && node.textContent.includes('Hosted on GitHub Pages')) {
            node.textContent = ''; // Clear text
            break;
          }
          // If we hit an element that isn't the text, stop (safeguard)
          if (node.nodeType === 1) break;
          node = node.previousSibling;
        }
      }
    }

  });
</script>